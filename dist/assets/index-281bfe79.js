(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const a=document.querySelector("#bookTable"),u=localStorage.getItem("books"),i=u?JSON.parse(u):[];class m{constructor(r,s,e,t,o=!1){this.id=r,this.title=s,this.author=e,this.pages=t,this.status=o}}const h=n=>{const r=document.createElement("tr");r.setAttribute("class","bookContainer border-b dark:border-neutral-500");const s=document.createElement("td"),e=document.createElement("button");e.setAttribute("id","deleteBtn"),e.textContent="X",e.setAttribute("class","text-red-700 whitespace-nowrap px-6 py-4 rounded-sm"),s==null||s.appendChild(e);const t=document.createElement("td");t.setAttribute("class","bookTitle"),t.textContent=n.title,t.setAttribute("class","whitespace-nowrap px-6 py-4");const o=document.createElement("td");o.setAttribute("class","bookAuthor"),o.textContent=n.author,o.setAttribute("class","whitespace-nowrap px-6 py-4");const c=document.createElement("td");c.setAttribute("class","pageCount"),c.textContent=n.pages,c.setAttribute("class","whitespace-nowrap px-6 py-4");const d=document.createElement("td"),l=document.createElement("button");return l.textContent=n.status?"Read":"Not Read",l.setAttribute("id","readStatus"),n.status?l.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-green-600 text-white"):l.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-red-700 text-white"),d==null||d.appendChild(l),r==null||r.appendChild(t),r==null||r.appendChild(o),r==null||r.appendChild(c),r==null||r.appendChild(d),r==null||r.appendChild(s),r},y=(n,r)=>{if(n.status=!n.status,r.textContent=n.status?"Read":"Not Read",n.status?r.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-green-600 text-white"):r.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-red-700 text-white"),i){const s=i.findIndex(e=>e.id===n.id);s!==-1&&(i[s].status=n.status,localStorage.setItem("books",JSON.stringify(i)))}},b=(n,r)=>{if(i){const s=i.findIndex(e=>e.id===n.id);s!==-1&&(i.splice(s,1),localStorage.setItem("books",JSON.stringify(i)),r.remove())}},f=n=>{const r=h(n),s=r.querySelector("#readStatus"),e=r.querySelector("#deleteBtn");s==null||s.addEventListener("click",()=>{y(n,s)}),e==null||e.addEventListener("click",()=>{b(n,r)}),a==null||a.appendChild(r)},p=document.querySelector("#newBookForm");p.addEventListener("submit",n=>{n.preventDefault();let r=document.querySelector("#newBookTitle").value,s=document.querySelector("#newBookAuthor").value,e=document.querySelector("#pageCount").value,t=document.querySelector("#ifRead").checked,o=i.length?i.length+1:1;if(r&&s&&e&&t!==null){const c=new m(String(o),r,s,e,t);i.push(c),localStorage.setItem("books",JSON.stringify(i)),f(c),p.reset()}});const g=()=>{if(u){const n=JSON.parse(u);for(let r of n)f(r)}};document.addEventListener("DOMContentLoaded",g);
