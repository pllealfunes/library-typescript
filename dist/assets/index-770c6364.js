(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const l=document.querySelector("#bookTable"),u=localStorage.getItem("books"),d=u?JSON.parse(u):[];class h{constructor(t,o,r,e,n=!1){this.id=t,this.title=o,this.author=r,this.pages=e,this.status=n}}const f=s=>{const t=document.createElement("tr");t.setAttribute("class","bookContainer border-b dark:border-neutral-500");const o=document.createElement("td"),r=document.createElement("button");r.setAttribute("id","deleteBtn"),r.textContent="X",r.setAttribute("class","text-red-700 whitespace-nowrap px-6 py-4 rounded-sm"),o==null||o.appendChild(r);const e=document.createElement("td");e.setAttribute("class","bookTitle"),e.textContent=s.title,e.setAttribute("class","whitespace-nowrap px-6 py-4");const n=document.createElement("td");n.setAttribute("class","bookAuthor"),n.textContent=s.author,n.setAttribute("class","whitespace-nowrap px-6 py-4");const c=document.createElement("td");c.setAttribute("class","pageCount"),c.textContent=s.pages,c.setAttribute("class","whitespace-nowrap px-6 py-4");const a=document.createElement("td"),i=document.createElement("button");return i.textContent=s.status?"Read":"Not Read",i.setAttribute("id","readStatus"),s.status?i.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-green-600 text-white"):i.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-red-700 text-white"),a==null||a.appendChild(i),t==null||t.appendChild(e),t==null||t.appendChild(n),t==null||t.appendChild(c),t==null||t.appendChild(a),t==null||t.appendChild(o),t},g=(s,t)=>{s.status=!s.status,t.textContent=s.status?"Read":"Not Read",s.status?t.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-green-600 text-white"):t.setAttribute("class","whitespace-nowrap px-3 py-2 rounded-sm bg-red-700 text-white");const o=d.findIndex(r=>r.id===s.id);o!==-1&&(d[o].status=s.status,localStorage.setItem("books",JSON.stringify(d)))},y=(s,t)=>{const o=d.findIndex(r=>r.id===s.id);o!==-1&&(d.splice(o,1),localStorage.setItem("books",JSON.stringify(d)),t.remove())},m=s=>{const t=f(s),o=t.querySelector("#readStatus"),r=t.querySelector("#deleteBtn");o==null||o.addEventListener("click",()=>{g(s,o)}),r==null||r.addEventListener("click",()=>{y(s,t)}),l==null||l.appendChild(t)},p=document.querySelector("#newBookForm");p.addEventListener("submit",s=>{s.preventDefault();let t=document.querySelector("#newBookTitle").value,o=document.querySelector("#newBookAuthor").value,r=document.querySelector("#pageCount").value,e=document.querySelector("#ifRead").checked,n=d.length?d.length+1:1;if(t&&o&&r&&e!==null){const c=new h(String(n),t,o,r,e);d.push(c),localStorage.setItem("books",JSON.stringify(d)),m(c),p.reset()}});const w=()=>{if(u){const s=JSON.parse(u);for(let t of s)m(t)}};document.addEventListener("DOMContentLoaded",w);
